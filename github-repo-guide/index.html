<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
      <link rel="shortcut icon" href="../img/favicon.ico" />
    <title>GitHub Repository Guidelines - Children's National BTI Bioinformatics</title>
    <link rel="stylesheet" href="../css/theme.css" />
    <link rel="stylesheet" href="../css/theme_extra.css" />
        <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.8.0/styles/github.min.css" />
    
      <script>
        // Current page data
        var mkdocs_page_name = "GitHub Repository Guidelines";
        var mkdocs_page_input_path = "github-repo-guide.md";
        var mkdocs_page_url = null;
      </script>
    
    <!--[if lt IE 9]>
      <script src="../js/html5shiv.min.js"></script>
    <![endif]-->
      <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.8.0/highlight.min.js"></script>
      <script>hljs.highlightAll();</script> 
</head>

<body class="wy-body-for-nav" role="document">

  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side stickynav">
    <div class="wy-side-scroll">
      <div class="wy-side-nav-search">
          <a href=".." class="icon icon-home"> Children's National BTI Bioinformatics
        </a><div role="search">
  <form id ="rtd-search-form" class="wy-form" action="../search.html" method="get">
      <input type="text" name="q" placeholder="Search docs" aria-label="Search docs" title="Type search term here" />
  </form>
</div>
      </div>

      <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <ul>
                <li class="toctree-l1"><a class="reference internal" href="..">Home</a>
                </li>
              </ul>
              <ul>
                <li class="toctree-l1"><a class="reference internal" href="../cnh-onboarding/">CNH-Specific Onboarding</a>
                </li>
              </ul>
              <ul>
                <li class="toctree-l1"><a class="reference internal" href="../access/">Technology Access Requests</a>
                </li>
              </ul>
              <ul>
                <li class="toctree-l1"><a class="reference internal" href="../aws/">AWS Compute</a>
                </li>
              </ul>
              <ul>
                <li class="toctree-l1"><a class="reference internal" href="../cavatica/">CAVATICA Compute</a>
                </li>
              </ul>
              <ul>
                <li class="toctree-l1"><a class="reference internal" href="../sop_cwl_cavatica/">CAVATICA workflow SOP</a>
                </li>
              </ul>
              <ul>
                <li class="toctree-l1"><a class="reference internal" href="../docker/">Using Docker or Podman</a>
                </li>
              </ul>
              <ul>
                <li class="toctree-l1"><a class="reference internal" href="../github-general/">Using GitHub</a>
                </li>
              </ul>
              <ul class="current">
                <li class="toctree-l1 current"><a class="reference internal current" href="#">GitHub Repository Guidelines</a>
    <ul class="current">
    <li class="toctree-l2"><a class="reference internal" href="#repository-guidelines-see-openpedcan-documentation">Repository guidelines (see OpenPedCan documentation)</a>
    </li>
    </ul>
                </li>
              </ul>
              <ul>
                <li class="toctree-l1"><a class="reference internal" href="../github-pr-guide/">GitHub Pull Request Guidelines</a>
                </li>
              </ul>
              <ul>
                <li class="toctree-l1"><a class="reference internal" href="../code-review-guide/">Code Review Guidelines</a>
                </li>
              </ul>
              <ul>
                <li class="toctree-l1"><a class="reference internal" href="../vscodium/">Using VSCodium for Code Reviews</a>
                </li>
              </ul>
              <ul>
                <li class="toctree-l1"><a class="reference internal" href="../github-tokens/">Github Tokens</a>
                </li>
              </ul>
              <ul>
                <li class="toctree-l1"><a class="reference internal" href="../project-mgmt/">BTI Project Management</a>
                </li>
              </ul>
              <ul>
                <li class="toctree-l1"><a class="reference internal" href="../sprints/">Sprint Planning</a>
                </li>
              </ul>
              <ul>
                <li class="toctree-l1"><a class="reference internal" href="../literature/">Literature</a>
                </li>
              </ul>
              <ul>
                <li class="toctree-l1"><a class="reference internal" href="../docs-resources/">Docs</a>
                </li>
              </ul>
      </div>
    </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">
      <nav class="wy-nav-top" role="navigation" aria-label="Mobile navigation menu">
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="..">Children's National BTI Bioinformatics</a>
        
      </nav>
      <div class="wy-nav-content">
        <div class="rst-content"><div role="navigation" aria-label="breadcrumbs navigation">
  <ul class="wy-breadcrumbs">
    <li><a href=".." class="icon icon-home" aria-label="Docs"></a></li>
      <li class="breadcrumb-item active">GitHub Repository Guidelines</li>
    <li class="wy-breadcrumbs-aside">
    </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
            <div class="section" itemprop="articleBody">
              
                <h1 id="github-repository-guidelines">GitHub Repository Guidelines</h1>
<p>In order to facilitate rapid collaboration across many different projects, we have adapted guidelines for our analysis projects, including the repository structure, docker image principles, a pull request model, and code review. </p>
<h2 id="repository-guidelines-see-openpedcan-documentation">Repository guidelines (see <a href="https://github.com/rokitalab/OpenPedCan-Project-CNH/#how-to-add-an-analysis">OpenPedCan documentation</a>)</h2>
<p><strong>Repository Docker Image</strong></p>
<ul>
<li>We set up all of our repositories to use project-specific Docker images containing an instance of RStudio and tidyverse (R &gt; 4.4) from the <a href="https://rocker-project.org/">Rocker project</a>.<ul>
<li><code>rocker/tidyverse</code> has already installed many R packages and their dependencies’ apt packages. e.g. <a href="https://www.tidyverse.org/">the <code>tidyverse</code> package</a>, <a href="https://devtools.r-lib.org/">the <code>devtools</code> package</a>, <a href="https://rmarkdown.rstudio.com/">the <code>rmarkdown</code> package</a>, some <a href="https://dbi.r-dbi.org/">R Database Interface</a> packages, <a href="https://rdatatable.gitlab.io/data.table/">the <code>data.table</code> package</a>, <a href="https://www.fstpackage.org/">the <code>fst</code> package</a>, and <a href="https://arrow.apache.org/docs/r/">the Apache Arrow R package</a>.</li>
</ul>
</li>
<li>More on docker <a href="https://www.notion.so/Docker-b5eb9d8caea84748b8babba71fe8fc65?pvs=21">here</a>.</li>
</ul>
<p><strong>Repository folder structure</strong></p>
<ul>
<li>Users performing analyses should <strong>always</strong> refer to the symlinks in the <code>data/</code> directory and not files within the release folder, as an updated release may be produced before a publication is prepared.</li>
<li>The repository folder structure is designed to separate each analysis into its own set of notebooks that are independent of other analyses. Within the <code>analyses</code> directory, create a folder for your analysis. Choose a name that is unique from other analyses and somewhat detailed. For example, instead of <code>gene-expression</code>, choose <code>gene-expression-clustering</code> if you are clustering samples by their gene expression values. You should assume that any data files are in the <code>../../data</code> directory and that their file names match what the <code>download-data.sh</code> script produces. These files should be read in at their relative path, so that we can re-run analyses if the underlying data change. Files that are primarily graphic should be placed in a <code>plots</code> subdirectory and should adhere to a <a href="https://github.com/d3b-center/OpenPedCan-analysis/blob/dev/figures/README.md#color-palette-usage">color palette guide</a> for your project. Files that are primarily tabular results files should be placed in a <code>results</code> subdirectory. Intermediate files that are useful within the processing steps but that do not represent final results should be placed in <code>../../scratch/</code>. It is safe to assume that files placed in <code>../../scratch</code> will be available to all analyses within the same folder. It is not safe to assume that files placed in <code>../../scratch</code> will be available from analyses in a different folder.</li>
<li>An example highlighting a <code>new-analysis</code> directory is shown below. The directory is placed alongside existing analyses within the <code>analyses</code> directory. In this case, the author of the analysis has run their workflows in R Markdown notebooks. This is denoted with the <code>.Rmd</code> suffix. However, the author could have used Jupyter notebooks, R scripts, or another scriptable solution. The author has created a new function or set of functions and placed those into <code>new-function.R</code> which lives in the <code>util</code> folder of the <code>new-analysis</code> folder. The author has produced their output figures as <code>.pdf</code> files. We have a preference for vector graphics as PDF files, though other forms of vector graphics are also appropriate. The results folder contains a tabular summary as a comma separated values file. We expect that the file suffix (<code>.csv</code>, <code>.tsv</code>) accurately denotes the format of the added files.</li>
<li>The author has also included a <code>README.md</code> (<a href="https://github.com/d3b-center/OpenPedCan-analysis#documenting-your-analysis">see Documenting Your Analysis</a>).</li>
</ul>
<pre><code class="language-bash">OpenPedCan-analysis
├── README.md
├── analyses
│  ├── existing-analysis-1
│  └── new-analysis
│      ├── 01-preprocess-data.Rmd
│      ├── 02-run-analyses.Rmd
│      ├── 03-make-figures.Rmd
│      ├── README.md
│      ├── plots
│      │  ├── figure1.pdf
│      │  └── figure2.pdf
│      ├── util
│      │   └── new-function.R
│      ├── results
│      │   └── tabular_summary.csv
│      └── run-new-analysis.sh
├── data
├── download-data.sh
├── figures
└── scratch
</code></pre>
              
            </div>
          </div><footer>
    <div class="rst-footer-buttons" role="navigation" aria-label="Footer Navigation">
        <a href="../github-general/" class="btn btn-neutral float-left" title="Using GitHub"><span class="icon icon-circle-arrow-left"></span> Previous</a>
        <a href="../github-pr-guide/" class="btn btn-neutral float-right" title="GitHub Pull Request Guidelines">Next <span class="icon icon-circle-arrow-right"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <!-- Copyright etc -->
  </div>

  Built with <a href="https://www.mkdocs.org/">MkDocs</a> using a <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>.
</footer>
          
        </div>
      </div>

    </section>

  </div>

  <div class="rst-versions" role="note" aria-label="Versions">
  <span class="rst-current-version" data-toggle="rst-current-version">
    
    
      <span><a href="../github-general/" style="color: #fcfcfc">&laquo; Previous</a></span>
    
    
      <span><a href="../github-pr-guide/" style="color: #fcfcfc">Next &raquo;</a></span>
    
  </span>
</div>
    <script src="../js/jquery-3.6.0.min.js"></script>
    <script>var base_url = "..";</script>
    <script src="../js/theme_extra.js"></script>
    <script src="../js/theme.js"></script>
      <script src="../search/main.js"></script>
    <script>
        jQuery(function () {
            SphinxRtdTheme.Navigation.enable(true);
        });
    </script>

</body>
</html>
